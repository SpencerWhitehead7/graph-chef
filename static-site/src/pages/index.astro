---
import Card from "@/components/Card.astro"
import Search from "@/components/Search"
import Layout from "@/layouts/Layout.astro"

import { RecipeSerialized, serializedToSearchable } from "../../../shared"

const recipeImports = await Astro.glob<{ default: RecipeSerialized }>("../recipeData/*.ts")
const recipes = recipeImports.map(({ default: recipe }) => serializedToSearchable(recipe))
---

<Layout title="Graph Chef">
  <Card>
    <Search recipes={recipes} client:idle />
  </Card>
</Layout>
