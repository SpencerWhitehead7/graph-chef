---
import { getCollection } from "astro:content"

import Card from "@/components/Card.astro"
import Search from "@/components/Search"
import Layout from "@/layouts/Layout.astro"

import { serializedToSearchable } from "../../../shared"

const recipes = (await getCollection("recipes")).map((recipe) =>
  serializedToSearchable(recipe.data)
)
---

<Layout title="Graph Chef">
  <Card>
    <Search recipes={recipes} client:idle />
  </Card>
</Layout>
